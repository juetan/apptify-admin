import{m,O as Re,i as ue,h as qe,j as g,L as le,Y as j,M as se,k as Ct,a9 as Ot,F as Ue,p as L,N as ae,d as ce,q as M,P as fe,az as Bt,y as Tt,f as Dt,U as At,aA as Ft,a as y,av as St,H as Mt,as as Lt,D as Nt,E as Pt,T as Ae,s as xt,l as zt}from"./index-a2b9888c.js";const W={formatYear:"YYYY 年",formatMonth:"YYYY 年 MM 月",today:"今天",view:{month:"月",year:"年",week:"周",day:"日"},month:{long:{January:"一月",February:"二月",March:"三月",April:"四月",May:"五月",June:"六月",July:"七月",August:"八月",September:"九月",October:"十月",November:"十一月",December:"十二月"},short:{January:"一月",February:"二月",March:"三月",April:"四月",May:"五月",June:"六月",July:"七月",August:"八月",September:"九月",October:"十月",November:"十一月",December:"十二月"}},week:{long:{self:"周",monday:"周一",tuesday:"周二",wednesday:"周三",thursday:"周四",friday:"周五",saturday:"周六",sunday:"周日"},short:{self:"周",monday:"一",tuesday:"二",wednesday:"三",thursday:"四",friday:"五",saturday:"六",sunday:"日"}}},It={locale:"zh-CN",empty:{description:"暂无数据"},drawer:{okText:"确定",cancelText:"取消"},popconfirm:{okText:"确定",cancelText:"取消"},modal:{okText:"确定",cancelText:"取消"},pagination:{goto:"前往",page:"页",countPerPage:"条/页",total:"共 {0} 条"},table:{okText:"确定",resetText:"重置"},upload:{start:"开始",cancel:"取消",delete:"删除",retry:"点击重试",buttonText:"点击上传",preview:"预览",drag:"点击或拖拽文件到此处上传",dragHover:"释放文件并开始上传",error:"上传失败"},calendar:W,datePicker:{view:W.view,month:W.month,week:W.week,placeholder:{date:"请选择日期",week:"请选择周",month:"请选择月份",year:"请选择年份",quarter:"请选择季度",time:"请选择时间"},rangePlaceholder:{date:["开始日期","结束日期"],week:["开始周","结束周"],month:["开始月份","结束月份"],year:["开始年份","结束年份"],quarter:["开始季度","结束季度"],time:["开始时间","结束时间"]},selectTime:"选择时间",today:"今天",now:"此刻",ok:"确定"},image:{loading:"加载中"},imagePreview:{fullScreen:"全屏",rotateRight:"向右旋转",rotateLeft:"向左旋转",zoomIn:"放大",zoomOut:"缩小",originalSize:"原始尺寸"},typography:{copied:"已复制",copy:"复制",expand:"展开",collapse:"折叠",edit:"编辑"},form:{validateMessages:{required:"#{field} 是必填项",type:{string:"#{field} 不是合法的文本类型",number:"#{field} 不是合法的数字类型",boolean:"#{field} 不是合法的布尔类型",array:"#{field} 不是合法的数组类型",object:"#{field} 不是合法的对象类型",url:"#{field} 不是合法的 url 地址",email:"#{field} 不是合法的邮箱地址",ip:"#{field} 不是合法的 IP 地址"},number:{min:"`#{value}` 小于最小值 `#{min}`",max:"`#{value}` 大于最大值 `#{max}`",equal:"`#{value}` 不等于 `#{equal}`",range:"`#{value}` 不在 `#{min} ~ #{max}` 范围内",positive:"`#{value}` 不是正数",negative:"`#{value}` 不是负数"},array:{length:"`#{field}` 个数不等于 #{length}",minLength:"`#{field}` 个数最少为 #{minLength}",maxLength:"`#{field}` 个数最多为 #{maxLength}",includes:"#{field} 不包含 #{includes}",deepEqual:"#{field} 不等于 #{deepEqual}",empty:"`#{field}` 不是空数组"},string:{minLength:"字符数最少为 #{minLength}",maxLength:"字符数最多为 #{maxLength}",length:"字符数必须是 #{length}",match:"`#{value}` 不符合模式 #{pattern}",uppercase:"`#{value}` 必须全大写",lowercase:"`#{value}` 必须全小写"},object:{deepEqual:"`#{field}` 不等于期望值",hasKeys:"`#{field}` 不包含必须字段",empty:"`#{field}` 不是对象"},boolean:{true:"期望是 `true`",false:"期望是 `false`"}}}},Ht=m("zh-CN"),Wt=Re({"zh-CN":It}),Gn=()=>{const e=ue(qe,void 0),t=g(()=>{var o;return(o=e==null?void 0:e.locale)!=null?o:Wt[Ht.value]}),n=g(()=>t.value.locale);return{i18nMessage:t,locale:n,t:(o,...u)=>{const l=o.split(".");let s=t.value;for(const a of l){if(!s[a])return o;s=s[a]}return le(s)&&u.length>0?s.replace(/{(\d+)}/g,(a,f)=>{var d;return(d=u[f])!=null?d:a}):s}}};var Ke=function(){if(typeof Map<"u")return Map;function e(t,n){var r=-1;return t.some(function(o,u){return o[0]===n?(r=u,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=e(this.__entries__,n),o=this.__entries__[r];return o&&o[1]},t.prototype.set=function(n,r){var o=e(this.__entries__,n);~o?this.__entries__[o][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,o=e(r,n);~o&&r.splice(o,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var o=0,u=this.__entries__;o<u.length;o++){var l=u[o];n.call(r,l[1],l[0])}},t}()}(),ie=typeof window<"u"&&typeof document<"u"&&window.document===document,V=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),kt=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(V):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Vt=2;function $t(e,t){var n=!1,r=!1,o=0;function u(){n&&(n=!1,e()),r&&s()}function l(){kt(u)}function s(){var a=Date.now();if(n){if(a-o<Vt)return;r=!0}else n=!0,r=!1,setTimeout(l,t);o=a}return s}var jt=20,Yt=["top","right","bottom","left","width","height","size","weight"],Gt=typeof MutationObserver<"u",Rt=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=$t(this.refresh.bind(this),jt)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!ie||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Gt?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!ie||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n,o=Yt.some(function(u){return!!~r.indexOf(u)});o&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Xe=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},B=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||V},Je=Y(0,0,0,0);function $(e){return parseFloat(e)||0}function Fe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,o){var u=e["border-"+o+"-width"];return r+$(u)},0)}function qt(e){for(var t=["top","right","bottom","left"],n={},r=0,o=t;r<o.length;r++){var u=o[r],l=e["padding-"+u];n[u]=$(l)}return n}function Ut(e){var t=e.getBBox();return Y(0,0,t.width,t.height)}function Kt(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Je;var r=B(e).getComputedStyle(e),o=qt(r),u=o.left+o.right,l=o.top+o.bottom,s=$(r.width),a=$(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+u)!==t&&(s-=Fe(r,"left","right")+u),Math.round(a+l)!==n&&(a-=Fe(r,"top","bottom")+l)),!Jt(e)){var f=Math.round(s+u)-t,d=Math.round(a+l)-n;Math.abs(f)!==1&&(s-=f),Math.abs(d)!==1&&(a-=d)}return Y(o.left,o.top,s,a)}var Xt=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof B(e).SVGGraphicsElement}:function(e){return e instanceof B(e).SVGElement&&typeof e.getBBox=="function"}}();function Jt(e){return e===B(e).document.documentElement}function Zt(e){return ie?Xt(e)?Ut(e):Kt(e):Je}function Qt(e){var t=e.x,n=e.y,r=e.width,o=e.height,u=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(u.prototype);return Xe(l,{x:t,y:n,width:r,height:o,top:n,right:t+r,bottom:o+n,left:t}),l}function Y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var en=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Y(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=Zt(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),tn=function(){function e(t,n){var r=Qt(n);Xe(this,{target:t,contentRect:r})}return e}(),nn=function(){function e(t,n,r){if(this.activeObservations_=[],this.observations_=new Ke,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof B(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new en(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof B(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new tn(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Ze=typeof WeakMap<"u"?new WeakMap:new Ke,Qe=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Rt.getInstance(),r=new nn(t,n,this);Ze.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){Qe.prototype[e]=function(){var t;return(t=Ze.get(this))[e].apply(t,arguments)}});var et=function(){return typeof V.ResizeObserver<"u"?V.ResizeObserver:Qe}(),Se;(function(e){e[e.ELEMENT=1]="ELEMENT",e[e.FUNCTIONAL_COMPONENT=2]="FUNCTIONAL_COMPONENT",e[e.STATEFUL_COMPONENT=4]="STATEFUL_COMPONENT",e[e.COMPONENT=6]="COMPONENT",e[e.TEXT_CHILDREN=8]="TEXT_CHILDREN",e[e.ARRAY_CHILDREN=16]="ARRAY_CHILDREN",e[e.SLOTS_CHILDREN=32]="SLOTS_CHILDREN",e[e.TELEPORT=64]="TELEPORT",e[e.SUSPENSE=128]="SUSPENSE",e[e.COMPONENT_SHOULD_KEEP_ALIVE=256]="COMPONENT_SHOULD_KEEP_ALIVE",e[e.COMPONENT_KEPT_ALIVE=512]="COMPONENT_KEPT_ALIVE"})(Se||(Se={}));var Me;(function(e){e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.DEV_ROOT_FRAGMENT=2048]="DEV_ROOT_FRAGMENT",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL"})(Me||(Me={}));const G=e=>!!(e&&e.shapeFlag&1),N=(e,t)=>!!(e&&e.shapeFlag&6),rn=(e,t)=>!!(e&&e.shapeFlag&8),R=(e,t)=>!!(e&&e.shapeFlag&16),de=(e,t)=>!!(e&&e.shapeFlag&32),ee=e=>{var t,n;if(e)for(const r of e){if(G(r)||N(r))return r;if(R(r,r.children)){const o=ee(r.children);if(o)return o}else if(de(r,r.children)){const o=(n=(t=r.children).default)==null?void 0:n.call(t);if(o){const u=ee(o);if(u)return u}}else if(j(r)){const o=ee(r);if(o)return o}}},on=e=>{if(!e)return!0;for(const t of e)if(t.children)return!1;return!0},tt=(e,t)=>{if(e&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(G(r)||N(r)){const u=se(t)?t(r):t;return e[n]=Ct(r,u,!0),!0}const o=he(r);if(o&&o.length>0&&tt(o,t))return!0}return!1},he=e=>{if(R(e,e.children))return e.children;if(j(e))return e},nt=e=>{var t,n;if(G(e))return e.el;if(N(e)){if(((t=e.el)==null?void 0:t.nodeType)===1)return e.el;if((n=e.component)!=null&&n.subTree){const r=nt(e.component.subTree);if(r)return r}}else{const r=he(e);return rt(r)}},rt=e=>{if(e&&e.length>0)for(const t of e){const n=nt(t);if(n)return n}},te=(e,t=!1)=>{var n,r;const o=[];for(const u of e??[])G(u)||N(u)||t&&rn(u,u.children)?o.push(u):R(u,u.children)?o.push(...te(u.children,t)):de(u,u.children)?o.push(...te((r=(n=u.children).default)==null?void 0:r.call(n),t)):j(u)&&o.push(...te(u,t));return o};function Rn(e){function t(n){const r=[];return n.forEach(o=>{var u,l;Ot(o)&&o.type===Ue?de(o,o.children)?r.push(...t(((l=(u=o.children).default)==null?void 0:l.call(u))||[])):R(o,o.children)?r.push(...t(o.children)):le(o.children)&&r.push(o.children):r.push(o)}),r}return t(e)}const qn=e=>{if(e)return se(e)?e:()=>e},ot=(e,t)=>{var n;const r=[];if(N(e,e.type))e.type.name===t?e.component&&r.push(e.component.uid):(n=e.component)!=null&&n.subTree&&r.push(...ot(e.component.subTree,t));else{const o=he(e);o&&r.push(...un(o,t))}return r},un=(e,t)=>{const n=[];if(e&&e.length>0)for(const r of e)n.push(...ot(r,t));return n},ut=typeof window>"u"?global:window,ln=ut.requestAnimationFrame,Le=ut.cancelAnimationFrame;function Ne(e){let t=0;const n=(...r)=>{t&&Le(t),t=ln(()=>{e(...r),t=0})};return n.cancel=()=>{Le(t),t=0},n}const ve=()=>{},me=(()=>{try{return!(typeof window<"u"&&document!==void 0)}catch{return!0}})(),ne=(()=>me?ve:(e,t,n,r=!1)=>{e.addEventListener(t,n,r)})(),Pe=(()=>me?ve:(e,t,n,r=!1)=>{e.removeEventListener(t,n,r)})(),Un=(e,t)=>{if(!e||!t)return!1;let n=t;for(;n;){if(n===e)return!0;n=n.parentNode}return!1},Kn=e=>{const t=document.createElement("div");return t.setAttribute("class",`arco-overlay arco-overlay-${e}`),t},sn=(e,t)=>{var n;return me?ve():(n=(t??document).querySelector(e))!=null?n:void 0},xe=(e,t)=>{if(le(e)){const n=e[0]==="#"?`[id='${e.slice(1)}']`:e;return sn(n,t)}return e},Xn=(e,t)=>{const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{top:n.top-r.top,bottom:r.bottom-n.bottom,left:n.left-r.left,right:r.right-n.right,width:n.width,height:n.height}},Jn=e=>e.tagName==="BODY"?document.documentElement.scrollHeight>window.innerHeight:e.scrollHeight>e.offsetHeight,Zn=e=>e.tagName==="BODY"?window.innerWidth-(document.documentElement.offsetWidth||document.body.offsetWidth):e.offsetWidth-e.clientWidth;var an=Object.defineProperty,ze=Object.getOwnPropertySymbols,cn=Object.prototype.hasOwnProperty,fn=Object.prototype.propertyIsEnumerable,Ie=(e,t,n)=>t in e?an(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dn=(e,t)=>{for(var n in t||(t={}))cn.call(t,n)&&Ie(e,n,t[n]);if(ze)for(var n of ze(t))fn.call(t,n)&&Ie(e,n,t[n]);return e};const hn=(e,t)=>{const n=dn({},e);for(const r of t)r in n&&delete n[r];return n};var vn=Object.defineProperty,He=Object.getOwnPropertySymbols,mn=Object.prototype.hasOwnProperty,En=Object.prototype.propertyIsEnumerable,We=(e,t,n)=>t in e?vn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F=(e,t)=>{for(var n in t||(t={}))mn.call(t,n)&&We(e,n,t[n]);if(He)for(var n of He(t))En.call(t,n)&&We(e,n,t[n]);return e};const pn=()=>{const{body:e}=document,t=document.documentElement;let n;try{n=(window.top||window.self||window).document.body}catch{}return{height:Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight,(n==null?void 0:n.scrollHeight)||0,(n==null?void 0:n.clientHeight)||0),width:Math.max(e.scrollWidth,e.offsetWidth,t.clientWidth,t.scrollWidth,t.offsetWidth,(n==null?void 0:n.scrollWidth)||0,(n==null?void 0:n.clientWidth)||0)}},bn=()=>{const{height:e,width:t}=pn();return{width:Math.min(t,window.innerWidth),height:Math.min(e,window.innerHeight)}},ke=(e,t)=>{var n,r;const o=e.getBoundingClientRect();return{top:o.top,bottom:o.bottom,left:o.left,right:o.right,scrollTop:o.top-t.top,scrollBottom:o.bottom-t.top,scrollLeft:o.left-t.left,scrollRight:o.right-t.left,width:(n=e.offsetWidth)!=null?n:e.clientWidth,height:(r=e.offsetHeight)!=null?r:e.clientHeight}},yn=e=>{switch(e){case"top":case"tl":case"tr":return"top";case"bottom":case"bl":case"br":return"bottom";case"left":case"lt":case"lb":return"left";case"right":case"rt":case"rb":return"right";default:return"top"}},k=(e,t)=>{switch(t){case"top":switch(e){case"bottom":return"top";case"bl":return"tl";case"br":return"tr";default:return e}case"bottom":switch(e){case"top":return"bottom";case"tl":return"bl";case"tr":return"br";default:return e}case"left":switch(e){case"right":return"left";case"rt":return"lt";case"rb":return"lb";default:return e}case"right":switch(e){case"left":return"right";case"lt":return"rt";case"lb":return"rb";default:return e}default:return e}},_n=(e,t,{containerRect:n,triggerRect:r,popupRect:o,offset:u,translate:l})=>{const s=yn(e),a=bn(),f={top:n.top+t.top,bottom:a.height-(n.top+t.top+o.height),left:n.left+t.left,right:a.width-(n.left+t.left+o.width)};let d=e;if(s==="top"&&f.top<0)if(r.top>o.height)t.top=-n.top;else{const v=S("bottom",r,o,{offset:u,translate:l});a.height-(n.top+v.top+o.height)>0&&(d=k(e,"bottom"),t.top=v.top)}if(s==="bottom"&&f.bottom<0)if(a.height-r.bottom>o.height)t.top=-n.top+(a.height-o.height);else{const v=S("top",r,o,{offset:u,translate:l});n.top+v.top>0&&(d=k(e,"top"),t.top=v.top)}if(s==="left"&&f.left<0)if(r.left>o.width)t.left=-n.left;else{const v=S("right",r,o,{offset:u,translate:l});a.width-(n.left+v.left+o.width)>0&&(d=k(e,"right"),t.left=v.left)}if(s==="right"&&f.right<0)if(a.width-r.right>o.width)t.left=-n.left+(a.width-o.width);else{const v=S("left",r,o,{offset:u,translate:l});n.left+v.left>0&&(d=k(e,"left"),t.left=v.left)}return(s==="top"||s==="bottom")&&(f.left<0?t.left=-n.left:f.right<0&&(t.left=-n.left+(a.width-o.width))),(s==="left"||s==="right")&&(f.top<0?t.top=-n.top:f.bottom<0&&(t.top=-n.top+(a.height-o.height))),{popupPosition:t,position:d}},S=(e,t,n,{offset:r=0,translate:o=[0,0]}={})=>{var u;const l=(u=j(o)?o:o[e])!=null?u:[0,0];switch(e){case"top":return{left:t.scrollLeft+Math.round(t.width/2)-Math.round(n.width/2)+l[0],top:t.scrollTop-n.height-r+l[1]};case"tl":return{left:t.scrollLeft+l[0],top:t.scrollTop-n.height-r+l[1]};case"tr":return{left:t.scrollRight-n.width+l[0],top:t.scrollTop-n.height-r+l[1]};case"bottom":return{left:t.scrollLeft+Math.round(t.width/2)-Math.round(n.width/2)+l[0],top:t.scrollBottom+r+l[1]};case"bl":return{left:t.scrollLeft+l[0],top:t.scrollBottom+r+l[1]};case"br":return{left:t.scrollRight-n.width+l[0],top:t.scrollBottom+r+l[1]};case"left":return{left:t.scrollLeft-n.width-r+l[0],top:t.scrollTop+Math.round(t.height/2)-Math.round(n.height/2)+l[1]};case"lt":return{left:t.scrollLeft-n.width-r+l[0],top:t.scrollTop+l[1]};case"lb":return{left:t.scrollLeft-n.width-r+l[0],top:t.scrollBottom-n.height+l[1]};case"right":return{left:t.scrollRight+r+l[0],top:t.scrollTop+Math.round(t.height/2)-Math.round(n.height/2)+l[1]};case"rt":return{left:t.scrollRight+r+l[0],top:t.scrollTop+l[1]};case"rb":return{left:t.scrollRight+r+l[0],top:t.scrollBottom-n.height+l[1]};default:return{left:0,top:0}}},wn=e=>{let t="0";["top","bottom"].includes(e)?t="50%":["left","lt","lb","tr","br"].includes(e)&&(t="100%");let n="0";return["left","right"].includes(e)?n="50%":["top","tl","tr","lt","rt"].includes(e)&&(n="100%"),`${t} ${n}`},gn=(e,t,n,r,{offset:o=0,translate:u=[0,0],customStyle:l={},autoFitPosition:s=!1}={})=>{let a=e,f=S(e,n,r,{offset:o,translate:u});if(s){const v=_n(e,f,{containerRect:t,popupRect:r,triggerRect:n,offset:o,translate:u});f=v.popupPosition,a=v.position}return{style:F({left:`${f.left}px`,top:`${f.top}px`},l),position:a}},Cn=(e,t,n,{customStyle:r={}})=>{if(["top","tl","tr","bottom","bl","br"].includes(e)){let u=Math.abs(t.scrollLeft+t.width/2-n.scrollLeft);return u>n.width-8&&(t.width>n.width?u=n.width/2:u=n.width-8),["top","tl","tr"].includes(e)?F({left:`${u}px`,bottom:"0",transform:"translate(-50%,50%) rotate(45deg)"},r):F({left:`${u}px`,top:"0",transform:"translate(-50%,-50%) rotate(45deg)"},r)}let o=Math.abs(t.scrollTop+t.height/2-n.scrollTop);return o>n.height-8&&(t.height>n.height?o=n.height/2:o=n.height-8),["left","lt","lb"].includes(e)?F({top:`${o}px`,right:"0",transform:"translate(50%,-50%) rotate(45deg)"},r):F({top:`${o}px`,left:"0",transform:"translate(-50%,-50%) rotate(45deg)"},r)},On=e=>e.scrollHeight>e.offsetHeight||e.scrollWidth>e.offsetWidth,Ve=e=>{var t;const n=[];let r=e;for(;r&&r!==document.documentElement;)On(r)&&n.push(r),r=(t=r.parentElement)!=null?t:void 0;return n},it=()=>{const e={},t=m(),n=()=>{const r=rt(e.value);r!==t.value&&(t.value=r)};return L(()=>n()),ae(()=>n()),{children:e,firstElement:t}};var $e=ce({name:"ResizeObserver",props:{watchOnUpdated:Boolean},emits:["resize"],setup(e,{emit:t,slots:n}){const{children:r,firstElement:o}=it();let u;const l=a=>{a&&(u=new et(f=>{const d=f[0];t("resize",d)}),u.observe(a))},s=()=>{u&&(u.disconnect(),u=null)};return M(o,a=>{u&&s(),a&&l(a)}),fe(()=>{u&&s()}),()=>{var a;return r.value=(a=n.default)==null?void 0:a.call(n),r.value}}});function Bn(e,t){const n=m(e[t]);return ae(()=>{const r=e[t];n.value!==r&&(n.value=r)}),n}const je=Symbol("ArcoTrigger"),Tn=1e3,Dn=5e3,An=1;class Fn{constructor(){this.popupStack={popup:new Set,dialog:new Set,message:new Set},this.getNextZIndex=t=>(t==="message"?Array.from(this.popupStack.message).pop()||Dn:Array.from(this.popupStack.popup).pop()||Tn)+An,this.add=t=>{const n=this.getNextZIndex(t);return this.popupStack[t].add(n),t==="dialog"&&this.popupStack.popup.add(n),n},this.delete=(t,n)=>{this.popupStack[n].delete(t),n==="dialog"&&this.popupStack.popup.delete(t)},this.isLastDialog=t=>this.popupStack.dialog.size>1?t===Array.from(this.popupStack.dialog).pop():!0}}const re=new Fn;function Sn(e,{visible:t,runOnMounted:n}={}){const r=m(0),o=()=>{r.value=re.add(e)},u=()=>{re.delete(r.value,e)},l=()=>e==="dialog"?re.isLastDialog(r.value):!1;return M(()=>t==null?void 0:t.value,s=>{s?o():u()},{immediate:!0}),n&&(L(()=>{o()}),fe(()=>{u()})),{zIndex:Bt(r),open:o,close:u,isLastDialog:l}}const Mn=({elementRef:e,onResize:t})=>{let n;return{createResizeObserver:()=>{e.value&&(n=new et(u=>{const l=u[0];se(t)&&t(l)}),n.observe(e.value))},destroyResizeObserver:()=>{n&&(n.disconnect(),n=null)}}};var Ln=ce({name:"ClientOnly",setup(e,{slots:t}){const n=m(!1);return L(()=>n.value=!0),()=>{var r;return n.value?(r=t.default)==null?void 0:r.call(t):null}}});const Nn=({popupContainer:e,visible:t,defaultContainer:n="body",documentContainer:r})=>{const o=m(e.value),u=m(),l=()=>{const s=xe(e.value),a=s?e.value:n,f=s??(r?document.documentElement:xe(n));a!==o.value&&(o.value=a),f!==u.value&&(u.value=f)};return L(()=>l()),M(t,s=>{o.value!==e.value&&s&&l()}),{teleportContainer:o,containerRef:u}};var Pn=Object.defineProperty,xn=Object.defineProperties,zn=Object.getOwnPropertyDescriptors,Ye=Object.getOwnPropertySymbols,In=Object.prototype.hasOwnProperty,Hn=Object.prototype.propertyIsEnumerable,Ge=(e,t,n)=>t in e?Pn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wn=(e,t)=>{for(var n in t||(t={}))In.call(t,n)&&Ge(e,n,t[n]);if(Ye)for(var n of Ye(t))Hn.call(t,n)&&Ge(e,n,t[n]);return e},kn=(e,t)=>xn(e,zn(t));const Vn=["onClick","onMouseenter","onMouseleave","onFocusin","onFocusout","onContextmenu"];var oe=ce({name:"Trigger",inheritAttrs:!1,props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"hover"},position:{type:String,default:"bottom"},disabled:{type:Boolean,default:!1},popupOffset:{type:Number,default:0},popupTranslate:{type:[Array,Object]},showArrow:{type:Boolean,default:!1},alignPoint:{type:Boolean,default:!1},popupHoverStay:{type:Boolean,default:!0},blurToClose:{type:Boolean,default:!0},clickToClose:{type:Boolean,default:!0},clickOutsideToClose:{type:Boolean,default:!0},unmountOnClose:{type:Boolean,default:!0},contentClass:{type:[String,Array,Object]},contentStyle:{type:Object},arrowClass:{type:[String,Array,Object]},arrowStyle:{type:Object},popupStyle:{type:Object},animationName:{type:String,default:"fade-in"},duration:{type:[Number,Object]},mouseEnterDelay:{type:Number,default:100},mouseLeaveDelay:{type:Number,default:100},focusDelay:{type:Number,default:0},autoFitPopupWidth:{type:Boolean,default:!1},autoFitPopupMinWidth:{type:Boolean,default:!1},autoFixPosition:{type:Boolean,default:!0},popupContainer:{type:[String,Object]},updateAtScroll:{type:Boolean,default:!1},autoFitTransformOrigin:{type:Boolean,default:!1},hideEmpty:{type:Boolean,default:!1},openedClass:{type:[String,Array,Object]},autoFitPosition:{type:Boolean,default:!0},renderToBody:{type:Boolean,default:!0},preventFocus:{type:Boolean,default:!1},scrollToClose:{type:Boolean,default:!1}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0,show:()=>!0,hide:()=>!0,resize:()=>!0},setup(e,{emit:t,slots:n,attrs:r}){const{popupContainer:o}=Tt(e),u=Dt("trigger"),l=g(()=>hn(r,Vn)),s=ue(qe,void 0),a=g(()=>[].concat(e.trigger)),f=new Set,d=ue(je,void 0),{children:v,firstElement:T}=it(),C=m(),Ee=m(e.defaultPopupVisible),P=m(e.position),pe=m({}),be=m({}),ye=m({}),lt=m(),_=m({top:0,left:0}),h=g(()=>{var i;return(i=e.popupVisible)!=null?i:Ee.value}),{teleportContainer:st,containerRef:q}=Nn({popupContainer:o,visible:h,documentContainer:!0}),{zIndex:at}=Sn("popup",{visible:h});let D=0,w=!1,U=!1;const ct=()=>{D&&(window.clearTimeout(D),D=0)},K=i=>{if(e.alignPoint){const{pageX:c,pageY:E}=i;_.value={top:E,left:c}}},O=()=>{if(!T.value||!C.value||!q.value)return;const i=q.value.getBoundingClientRect(),c=e.alignPoint?{top:_.value.top,bottom:_.value.top,left:_.value.left,right:_.value.left,scrollTop:_.value.top,scrollBottom:_.value.top,scrollLeft:_.value.left,scrollRight:_.value.left,width:0,height:0}:ke(T.value,i),E=()=>ke(C.value,i),I=E(),{style:A,position:H}=gn(e.position,i,c,I,{offset:e.popupOffset,translate:e.popupTranslate,customStyle:e.popupStyle,autoFitPosition:e.autoFitPosition});e.autoFitTransformOrigin&&(be.value={transformOrigin:wn(H)}),e.autoFitPopupMinWidth?A.minWidth=`${c.width}px`:e.autoFitPopupWidth&&(A.width=`${c.width}px`),P.value!==H&&(P.value=H),pe.value=A,e.showArrow&&Ae(()=>{ye.value=Cn(H,c,E(),{customStyle:e.arrowStyle})})},p=(i,c)=>{if(i===h.value&&D===0)return;const E=()=>{Ee.value=i,t("update:popupVisible",i),t("popupVisibleChange",i),i&&Ae(()=>{O()})};c?(ct(),i!==h.value&&(D=window.setTimeout(E,c))):E()},ft=i=>{var c;(c=r.onClick)==null||c.call(r,i),!(e.disabled||h.value&&!e.clickToClose)&&(a.value.includes("click")?(K(i),p(!h.value)):a.value.includes("contextMenu")&&h.value&&p(!1))},_e=i=>{var c;(c=r.onMouseenter)==null||c.call(r,i),!(e.disabled||!a.value.includes("hover"))&&(K(i),p(!0,e.mouseEnterDelay))},we=i=>{d==null||d.onMouseenter(i),_e(i)},ge=i=>{var c;(c=r.onMouseleave)==null||c.call(r,i),!(e.disabled||!a.value.includes("hover"))&&p(!1,e.mouseLeaveDelay)},Ce=i=>{d==null||d.onMouseleave(i),ge(i)},dt=i=>{var c;(c=r.onFocusin)==null||c.call(r,i),!(e.disabled||!a.value.includes("focus"))&&p(!0,e.focusDelay)},ht=i=>{var c;(c=r.onFocusout)==null||c.call(r,i),!(e.disabled||!a.value.includes("focus"))&&e.blurToClose&&p(!1)},vt=i=>{var c;(c=r.onContextmenu)==null||c.call(r,i),!(e.disabled||!a.value.includes("contextMenu")||h.value&&!e.clickToClose)&&(K(i),p(!h.value),i.preventDefault())};At(je,Re({onMouseenter:we,onMouseleave:Ce,addChildRef:i=>{f.add(i),d==null||d.addChildRef(i)},removeChildRef:i=>{f.delete(i),d==null||d.removeChildRef(i)}}));const X=()=>{Pe(document.documentElement,"mousedown",J),w=!1},Oe=Bn(n,"content"),mt=g(()=>{var i;return e.hideEmpty&&on((i=Oe.value)==null?void 0:i.call(Oe))}),J=i=>{var c,E,I;if(!((c=T.value)!=null&&c.contains(i.target)||(E=C.value)!=null&&E.contains(i.target))){for(const A of f)if((I=A.value)!=null&&I.contains(i.target))return;X(),p(!1)}},x=Ne(()=>{h.value&&(e.scrollToClose||s!=null&&s.scrollToClose?p(!1):O())}),Be=()=>{Pe(window,"scroll",Te),U=!1},Te=Ne(()=>{p(!1),Be()}),Z=()=>{h.value&&O()},Et=()=>{Z(),t("resize")},pt=i=>{e.preventFocus&&i.preventDefault()};d==null||d.addChildRef(C);const bt=g(()=>h.value?e.openedClass:void 0);let b;M(h,i=>{if(e.clickOutsideToClose&&(!i&&w?X():i&&!w&&(ne(document.documentElement,"mousedown",J),w=!0)),(e.scrollToClose||s!=null&&s.scrollToClose)&&(ne(window,"scroll",Te),U=!0),e.updateAtScroll||s!=null&&s.updateAtScroll){if(i){b=Ve(T.value);for(const c of b)c.addEventListener("scroll",x)}else if(b){for(const c of b)c.removeEventListener("scroll",x);b=void 0}}i&&(Q.value=!0)}),M(()=>[e.autoFitPopupWidth,e.autoFitPopupMinWidth],()=>{h.value&&O()});const{createResizeObserver:yt,destroyResizeObserver:_t}=Mn({elementRef:q,onResize:Z});L(()=>{if(yt(),h.value&&(O(),e.clickOutsideToClose&&!w&&(ne(document.documentElement,"mousedown",J),w=!0),e.updateAtScroll||s!=null&&s.updateAtScroll)){b=Ve(T.value);for(const i of b)i.addEventListener("scroll",x)}}),ae(()=>{h.value&&O()}),Ft(()=>{p(!1)}),fe(()=>{if(d==null||d.removeChildRef(C),_t(),w&&X(),U&&Be(),b){for(const i of b)i.removeEventListener("scroll",x);b=void 0}});const Q=m(h.value),z=m(!1),De=()=>{z.value=!0},wt=()=>{z.value=!1,h.value&&t("show")},gt=()=>{z.value=!1,h.value||(Q.value=!1,t("hide"))};return()=>{var i,c;return v.value=(c=(i=n.default)==null?void 0:i.call(n))!=null?c:[],tt(v.value,{class:bt.value,onClick:ft,onMouseenter:_e,onMouseleave:ge,onFocusin:dt,onFocusout:ht,onContextmenu:vt}),y(Ue,null,[e.autoFixPosition?y($e,{onResize:Et},{default:()=>[v.value]}):v.value,y(Ln,null,{default:()=>[y(St,{to:st.value,disabled:!e.renderToBody},{default:()=>[(!e.unmountOnClose||h.value||Q.value)&&!mt.value&&y($e,{onResize:Z},{default:()=>[y("div",Mt({ref:C,class:[`${u}-popup`,`${u}-position-${P.value}`],style:kn(Wn({},pe.value),{zIndex:at.value,pointerEvents:z.value?"none":"auto"}),"trigger-placement":P.value,onMouseenter:we,onMouseleave:Ce,onMousedown:pt},l.value),[y(Lt,{name:e.animationName,duration:e.duration,appear:!0,onBeforeEnter:De,onAfterEnter:wt,onBeforeLeave:De,onAfterLeave:gt},{default:()=>{var E;return[Nt(y("div",{class:`${u}-popup-wrapper`,style:be.value},[y("div",{class:[`${u}-content`,e.contentClass],style:e.contentStyle},[(E=n.content)==null?void 0:E.call(n)]),e.showArrow&&y("div",{ref:lt,class:[`${u}-arrow`,e.arrowClass],style:ye.value},null)]),[[Pt,h.value]])]}})])]})]})]})])}}});const Qn=Object.assign(oe,{install:(e,t)=>{xt(e,t);const n=zt(t);e.component(n+oe.name,oe)}});export{Ln as C,$e as R,Qn as T,Xn as a,un as b,ne as c,Pe as d,te as e,Nn as f,ee as g,Sn as h,xe as i,Un as j,Kn as k,qn as l,Bn as m,et as n,hn as o,Rn as p,Zn as q,Jn as r,Gn as u};
