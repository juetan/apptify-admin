import{x as J,d as x,f as ee,j as m,K as Z,o as u,e as g,z as y,a6 as V,G as F,I as Fe,r as h,c as L,A as K,a as j,B as p,s as Le,l as je,m as C,ad as Ke,y as Re,p as We,P as Ge,q as be,M as R,au as he,v as we,w as D,av as He,D as le,H as ae,as as $e,E as se,af as Oe,Q as ie,R as re,ah as Se,T as Ye}from"./index-a2b9888c.js";import{a as qe,b as Ue,f as Xe,c as Qe,d as Ze,e as Je,u as xe,K as en,M as nn}from"./use-overflow-ce853a25.js";import{c as X,d as pe,C as on,u as tn,f as ln,h as an,i as sn,j as rn,k as cn,l as ce,o as un}from"./index-02a6652d.js";const dn=x({name:"IconSearch",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:n}){const o=ee("icon"),l=m(()=>[o,`${o}-search`,{[`${o}-spin`]:e.spin}]),i=m(()=>{const t={};return e.size&&(t.fontSize=Z(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t});return{cls:l,innerStyle:i,onClick:t=>{n("click",t)}}}}),fn=["stroke-width","stroke-linecap","stroke-linejoin"],mn=F("path",{d:"M33.072 33.071c6.248-6.248 6.248-16.379 0-22.627-6.249-6.249-16.38-6.249-22.628 0-6.248 6.248-6.248 16.379 0 22.627 6.248 6.248 16.38 6.248 22.628 0Zm0 0 8.485 8.485"},null,-1),vn=[mn];function pn(e,n,o,l,i,s){return u(),g("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:y(e.cls),style:V(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:n[0]||(n[0]=(...t)=>e.onClick&&e.onClick(...t))},vn,14,fn)}var ue=J(dn,[["render",pn]]);const Rn=Object.assign(ue,{install:(e,n)=>{var o;const l=(o=n==null?void 0:n.iconPrefix)!=null?o:"";e.component(l+ue.name,ue)}});function yn(e,n,o){return m(()=>!!(e[o]||n[o]))}const kn=x({name:"IconLink",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:n}){const o=ee("icon"),l=m(()=>[o,`${o}-link`,{[`${o}-spin`]:e.spin}]),i=m(()=>{const t={};return e.size&&(t.fontSize=Z(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t});return{cls:l,innerStyle:i,onClick:t=>{n("click",t)}}}}),Cn=["stroke-width","stroke-linecap","stroke-linejoin"],gn=F("path",{d:"m14.1 25.414-4.95 4.95a6 6 0 0 0 8.486 8.485l8.485-8.485a6 6 0 0 0 0-8.485m7.779.707 4.95-4.95a6 6 0 1 0-8.486-8.485l-8.485 8.485a6 6 0 0 0 0 8.485"},null,-1),bn=[gn];function hn(e,n,o,l,i,s){return u(),g("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:y(e.cls),style:V(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:n[0]||(n[0]=(...t)=>e.onClick&&e.onClick(...t))},bn,14,Cn)}var de=J(kn,[["render",hn]]);const wn=Object.assign(de,{install:(e,n)=>{var o;const l=(o=n==null?void 0:n.iconPrefix)!=null?o:"";e.component(l+de.name,de)}}),$n=x({name:"Link",components:{IconLink:wn,IconLoading:Fe},props:{href:String,status:{type:String,default:"normal"},hoverable:{type:Boolean,default:!0},icon:Boolean,loading:Boolean,disabled:Boolean},emits:{click:e=>!0},setup(e,{slots:n,emit:o}){const l=ee("link"),i=yn(e,n,"icon"),s=d=>{if(e.disabled||e.loading){d.preventDefault();return}o("click",d)};return{cls:m(()=>[l,`${l}-status-${e.status}`,{[`${l}-disabled`]:e.disabled,[`${l}-loading`]:e.loading,[`${l}-hoverless`]:!e.hoverable,[`${l}-with-icon`]:e.loading||i.value}]),prefixCls:l,showIcon:i,handleClick:s}}}),On=["href"];function Sn(e,n,o,l,i,s){const t=h("icon-loading"),d=h("icon-link");return u(),g("a",{href:e.disabled?void 0:e.href,class:y(e.cls),onClick:n[0]||(n[0]=(...v)=>e.handleClick&&e.handleClick(...v))},[e.loading||e.showIcon?(u(),g("span",{key:0,class:y(`${e.prefixCls}-icon`)},[e.loading?(u(),L(t,{key:0})):K(e.$slots,"icon",{key:1},()=>[j(d)])],2)):p("v-if",!0),K(e.$slots,"default")],10,On)}var fe=J($n,[["render",Sn]]);const Wn=Object.assign(fe,{install:(e,n)=>{Le(e,n);const o=je(n);e.component(o+fe.name,fe)}}),Bn=({modalRef:e,wrapperRef:n,draggable:o,alignCenter:l})=>{const i=C(!1),s=C([0,0]),t=C([0,0]),d=C(),v=C([0,0]),a=C([0,0]),f=()=>{var c,P,T;if(n.value&&e.value){const{top:O,left:S}=n.value.getBoundingClientRect(),{clientWidth:W,clientHeight:G}=n.value,{top:E,left:H,width:z,height:N}=e.value.getBoundingClientRect(),M=l.value?0:(c=e.value)==null?void 0:c.offsetTop,b=H-S,Y=E-O-M;(b!==((P=t.value)==null?void 0:P[0])||Y!==((T=t.value)==null?void 0:T[1]))&&(t.value=[b,Y]);const A=W>z?W-z:0,q=G>N?G-N-M:0;(A!==a.value[0]||q!==a.value[1])&&(a.value=[A,q]),M&&(v.value=[0,0-M])}},k=c=>{o.value&&(c.preventDefault(),i.value=!0,f(),s.value=[c.x,c.y],X(window,"mousemove",w),X(window,"mouseup",$),X(window,"contextmenu",$))},w=c=>{if(i.value){const P=c.x-s.value[0],T=c.y-s.value[1];let O=t.value[0]+P,S=t.value[1]+T;O<v.value[0]&&(O=v.value[0]),O>a.value[0]&&(O=a.value[0]),S<v.value[1]&&(S=v.value[1]),S>a.value[1]&&(S=a.value[1]),d.value=[O,S]}},$=()=>{i.value=!1,pe(window,"mousemove",w),pe(window,"mouseup",$)};return{position:d,handleMoveDown:k}};var Pn=Object.defineProperty,Be=Object.getOwnPropertySymbols,Tn=Object.prototype.hasOwnProperty,Mn=Object.prototype.propertyIsEnumerable,Pe=(e,n,o)=>n in e?Pn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,_n=(e,n)=>{for(var o in n||(n={}))Tn.call(n,o)&&Pe(e,o,n[o]);if(Be)for(var o of Be(n))Mn.call(n,o)&&Pe(e,o,n[o]);return e},Ln=x({name:"Modal",components:{ClientOnly:on,ArcoButton:Ke,IconHover:qe,IconClose:Ue,IconInfoCircleFill:Xe,IconCheckCircleFill:Qe,IconExclamationCircleFill:Ze,IconCloseCircleFill:Je},inheritAttrs:!1,props:{visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},width:{type:[Number,String]},top:{type:[Number,String]},mask:{type:Boolean,default:!0},title:{type:String},titleAlign:{type:String,default:"center"},alignCenter:{type:Boolean,default:!0},unmountOnClose:Boolean,maskClosable:{type:Boolean,default:!0},hideCancel:{type:Boolean,default:!1},simple:{type:Boolean,default:e=>e.notice},closable:{type:Boolean,default:!0},okText:String,cancelText:String,okLoading:{type:Boolean,default:!1},okButtonProps:{type:Object},cancelButtonProps:{type:Object},footer:{type:Boolean,default:!0},renderToBody:{type:Boolean,default:!0},popupContainer:{type:[String,Object],default:"body"},maskStyle:{type:Object},modalClass:{type:[String,Array]},modalStyle:{type:Object},onBeforeOk:{type:Function},onBeforeCancel:{type:Function},escToClose:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},maskAnimationName:{type:String,default:e=>e.fullscreen?"fade-in-standard":"fade-modal"},modalAnimationName:{type:String,default:e=>e.fullscreen?"zoom-in":"zoom-modal"},bodyClass:{type:[String,Array]},bodyStyle:{type:[String,Object,Array]},messageType:{type:String}},emits:{"update:visible":e=>!0,ok:e=>!0,cancel:e=>!0,open:()=>!0,close:()=>!0,beforeOpen:()=>!0,beforeClose:()=>!0},setup(e,{emit:n}){const{fullscreen:o,popupContainer:l,alignCenter:i}=Re(e),s=ee("modal"),{t}=tn(),d=C(),v=C(),a=C(e.defaultVisible),f=m(()=>{var r;return(r=e.visible)!=null?r:a.value}),k=C(!1),w=m(()=>e.okLoading||k.value),$=m(()=>e.draggable&&!e.fullscreen),{teleportContainer:c,containerRef:P}=ln({popupContainer:l,visible:f}),T=C(f.value),O=m(()=>e.okText||t("modal.okText")),S=m(()=>e.cancelText||t("modal.cancelText")),{zIndex:W,isLastDialog:G}=an("dialog",{visible:f});let E=!1;const H=r=>{e.escToClose&&r.key===en.ESC&&G()&&ne(r)},z=()=>{e.escToClose&&!E&&(E=!0,X(document.documentElement,"keydown",H))},N=()=>{E=!1,pe(document.documentElement,"keydown",H)};let M=0;const{position:b,handleMoveDown:Y}=Bn({wrapperRef:d,modalRef:v,draggable:$,alignCenter:i}),A=()=>{M++,k.value&&(k.value=!1),a.value=!1,n("update:visible",!1)},q=async r=>{const B=M,U=await new Promise(async te=>{var Ce;if(R(e.onBeforeOk)){let _=e.onBeforeOk((ge=!0)=>te(ge));if((he(_)||!we(_))&&(k.value=!0),he(_))try{_=(Ce=await _)!=null?Ce:!0}catch{_=!1}we(_)&&te(_)}else te(!0)});B===M&&(U?(n("ok",r),A()):k.value&&(k.value=!1))},ne=r=>{var B;let U=!0;R(e.onBeforeCancel)&&(U=(B=e.onBeforeCancel())!=null?B:!1),U&&(n("cancel",r),A())},oe=C(!1),Ie=r=>{r.target===d.value&&(oe.value=!0)},De=r=>{e.mask&&e.maskClosable&&oe.value&&ne(r)},Ee=()=>{f.value&&(!rn(d.value,document.activeElement)&&document.activeElement instanceof HTMLElement&&document.activeElement.blur(),n("open"))},ze=()=>{f.value||($.value&&(b.value=void 0),T.value=!1,ke(),n("close"))},{setOverflowHidden:ye,resetOverflow:ke}=xe(P);We(()=>{P.value=sn(e.popupContainer),f.value&&(ye(),e.escToClose&&z())}),Ge(()=>{ke(),N()}),be(f,r=>{a.value!==r&&(a.value=r),r?(n("beforeOpen"),T.value=!0,oe.value=!1,ye(),z()):(n("beforeClose"),N())}),be(o,()=>{b.value&&(b.value=void 0)});const Ne=m(()=>[`${s}-wrapper`,{[`${s}-wrapper-align-center`]:e.alignCenter&&!e.fullscreen,[`${s}-wrapper-moved`]:!!b.value}]),Ae=m(()=>[`${s}`,e.modalClass,{[`${s}-simple`]:e.simple,[`${s}-draggable`]:$.value,[`${s}-fullscreen`]:e.fullscreen}]),Ve=m(()=>{var r;const B=_n({},(r=e.modalStyle)!=null?r:{});return e.width&&!e.fullscreen&&(B.width=Z(e.width)?`${e.width}px`:e.width),!e.alignCenter&&e.top&&(B.top=Z(e.top)?`${e.top}px`:e.top),b.value&&(B.transform=`translate(${b.value[0]}px, ${b.value[1]}px)`),B});return{prefixCls:s,mounted:T,computedVisible:f,containerRef:P,wrapperRef:d,mergedModalStyle:Ve,okDisplayText:O,cancelDisplayText:S,zIndex:W,handleOk:q,handleCancel:ne,handleMaskClick:De,handleMaskMouseDown:Ie,handleOpen:Ee,handleClose:ze,mergedOkLoading:w,modalRef:v,wrapperCls:Ne,modalCls:Ae,teleportContainer:c,handleMoveDown:Y}}});function jn(e,n,o,l,i,s){const t=h("icon-info-circle-fill"),d=h("icon-check-circle-fill"),v=h("icon-exclamation-circle-fill"),a=h("icon-close-circle-fill"),f=h("icon-close"),k=h("icon-hover"),w=h("arco-button"),$=h("client-only");return u(),L($,null,{default:D(()=>[(u(),L(He,{to:e.teleportContainer,disabled:!e.renderToBody},[!e.unmountOnClose||e.computedVisible||e.mounted?le((u(),g("div",ae({key:0,class:`${e.prefixCls}-container`,style:{zIndex:e.zIndex}},e.$attrs),[j($e,{name:e.maskAnimationName,appear:""},{default:D(()=>[e.mask?le((u(),g("div",{key:0,ref:"maskRef",class:y(`${e.prefixCls}-mask`),style:V(e.maskStyle)},null,6)),[[se,e.computedVisible]]):p("v-if",!0)]),_:1},8,["name"]),F("div",{ref:"wrapperRef",class:y(e.wrapperCls),onClick:n[2]||(n[2]=Oe((...c)=>e.handleMaskClick&&e.handleMaskClick(...c),["self"])),onMousedown:n[3]||(n[3]=Oe((...c)=>e.handleMaskMouseDown&&e.handleMaskMouseDown(...c),["self"]))},[j($e,{name:e.modalAnimationName,appear:"",onAfterEnter:e.handleOpen,onAfterLeave:e.handleClose},{default:D(()=>[le(F("div",{ref:"modalRef",class:y(e.modalCls),style:V(e.mergedModalStyle)},[e.$slots.title||e.title||e.closable?(u(),g("div",{key:0,class:y(`${e.prefixCls}-header`),onMousedown:n[1]||(n[1]=(...c)=>e.handleMoveDown&&e.handleMoveDown(...c))},[e.$slots.title||e.title?(u(),g("div",{key:0,class:y([`${e.prefixCls}-title`,`${e.prefixCls}-title-align-${e.titleAlign}`])},[e.messageType?(u(),g("div",{key:0,class:y(`${e.prefixCls}-title-icon`)},[e.messageType==="info"?(u(),L(t,{key:0})):p("v-if",!0),e.messageType==="success"?(u(),L(d,{key:1})):p("v-if",!0),e.messageType==="warning"?(u(),L(v,{key:2})):p("v-if",!0),e.messageType==="error"?(u(),L(a,{key:3})):p("v-if",!0)],2)):p("v-if",!0),K(e.$slots,"title",{},()=>[ie(re(e.title),1)])],2)):p("v-if",!0),!e.simple&&e.closable?(u(),g("div",{key:1,tabindex:"-1",role:"button","aria-label":"Close",class:y(`${e.prefixCls}-close-btn`),onClick:n[0]||(n[0]=(...c)=>e.handleCancel&&e.handleCancel(...c))},[j(k,null,{default:D(()=>[j(f)]),_:1})],2)):p("v-if",!0)],34)):p("v-if",!0),F("div",{class:y([`${e.prefixCls}-body`,e.bodyClass]),style:V(e.bodyStyle)},[K(e.$slots,"default")],6),e.footer?(u(),g("div",{key:1,class:y(`${e.prefixCls}-footer`)},[K(e.$slots,"footer",{},()=>[e.hideCancel?p("v-if",!0):(u(),L(w,ae({key:0},e.cancelButtonProps,{onClick:e.handleCancel}),{default:D(()=>[ie(re(e.cancelDisplayText),1)]),_:1},16,["onClick"])),j(w,ae({type:"primary"},e.okButtonProps,{loading:e.mergedOkLoading,onClick:e.handleOk}),{default:D(()=>[ie(re(e.okDisplayText),1)]),_:1},16,["loading","onClick"])])],2)):p("v-if",!0)],6),[[se,e.computedVisible]])]),_:3},8,["name","onAfterEnter","onAfterLeave"])],34)],16)),[[se,e.computedVisible||e.mounted]]):p("v-if",!0)],8,["to","disabled"]))]),_:3})}var Q=J(Ln,[["render",jn]]),In=Object.defineProperty,Dn=Object.defineProperties,En=Object.getOwnPropertyDescriptors,Te=Object.getOwnPropertySymbols,zn=Object.prototype.hasOwnProperty,Nn=Object.prototype.propertyIsEnumerable,Me=(e,n,o)=>n in e?In(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,I=(e,n)=>{for(var o in n||(n={}))zn.call(n,o)&&Me(e,o,n[o]);if(Te)for(var o of Te(n))Nn.call(n,o)&&Me(e,o,n[o]);return e},An=(e,n)=>Dn(e,En(n));const me=(e,n)=>{let o=cn("modal");const l=()=>{a.component&&(a.component.props.visible=!1),R(e.onOk)&&e.onOk()},i=()=>{a.component&&(a.component.props.visible=!1),R(e.onCancel)&&e.onCancel()},s=async()=>{await Ye(),o&&(Se(null,o),document.body.removeChild(o)),o=null,R(e.onClose)&&e.onClose()},t=()=>{a.component&&(a.component.props.visible=!1)},d=f=>{a.component&&Object.entries(f).forEach(([k,w])=>{a.component.props[k]=w})},a=j(Q,I(I(I({},{visible:!0,renderToBody:!1,unmountOnClose:!0,onOk:l,onCancel:i,onClose:s}),un(e,["content","title","footer","visible","unmountOnClose","onOk","onCancel","onClose"])),{footer:typeof e.footer=="boolean"?e.footer:void 0}),{default:ce(e.content),title:ce(e.title),footer:typeof e.footer!="boolean"?ce(e.footer):void 0});return(n??_e._context)&&(a.appContext=n??_e._context),Se(a,o),document.body.appendChild(o),{close:t,update:d}},ve=I({open:me,confirm:(e,n)=>{const o=I({simple:!0,messageType:"warning"},e);return me(o,n)}},nn.reduce((e,n)=>(e[n]=(o,l)=>{const i=I({simple:!0,hideCancel:!0,messageType:n},o);return me(i,l)},e),{})),_e=Object.assign(Q,An(I({},ve),{install:(e,n)=>{Le(e,n);const o=je(n);e.component(o+Q.name,Q);const l={};for(const i of Object.keys(ve))l[i]=(s,t=e._context)=>ve[i](s,t);e.config.globalProperties.$modal=l},_context:null}));export{Rn as I,Wn as L,_e as M};
